let leftBar,rightBar,images=[],imgPointer=0,canSetImgPointer=!0,rightArrowKey=39,downArrowKey=40,leftArrowKey=37,upArrowKey=38;function setImgPointer(){for(let e=0;e<images.length;e++){let t=images[e].getBoundingClientRect().top;t<100&&t>-800&&(imgPointer=e)}isFirstOrLast()}function isFirstOrLast(){0==imgPointer?leftBar.hasClass("hide")||leftBar.addClass("hide"):imgPointer==images.length-1?rightBar.hasClass("hide")||rightBar.addClass("hide"):(leftBar.hasClass("hide")&&leftBar.removeClass("hide"),rightBar.hasClass("hide")&&rightBar.removeClass("hide"))}function nextPhoto(){blockImgPointerUpdate(),imgPointer<images.length-1&&($(images[imgPointer]).hasClass("half")&&imgPointer<images.length-2?imgPointer+=2:imgPointer++,images[imgPointer].scrollIntoView()),isFirstOrLast()}function prevPhoto(){blockImgPointerUpdate(),imgPointer>0&&($(images[imgPointer]).hasClass("half")&&imgPointer>1?imgPointer-=2:imgPointer--,images[imgPointer].scrollIntoView()),isFirstOrLast()}function blockImgPointerUpdate(){canSetImgPointer=!1,setTimeout(()=>{canSetImgPointer=!0},100)}$(document).ready(()=>{images=$(".galleryBox"),leftBar=$("#leftBar"),rightBar=$("#rightBar"),setImgPointer()}).keydown(e=>{e.which!=upArrowKey&&e.which!=leftArrowKey||(prevPhoto(),e.preventDefault()),e.which!=downArrowKey&&e.which!=rightArrowKey||(nextPhoto(),e.preventDefault())}).scroll(()=>{canSetImgPointer&&setImgPointer()});